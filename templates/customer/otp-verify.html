{% extends 'base.html' %}

{% block title %}Verify OTP | WoodCraft{% endblock %}

{% block skeleton_loader %}
<div id="initial-skeleton-overlay">
    <div class="sk-public-header">
         <div class="sk-logo sk-shimmer sk-rect"></div>
         <div class="sk-actions">
            <div class="sk-icon sk-shimmer sk-circle"></div>
        </div>
    </div>
    <div class="sk-form-container sk-shimmer" style="margin-top: 100px;">
        <div class="sk-form-title sk-shimmer sk-rect" style="margin-bottom: 10px;"></div>
        <div class="sk-text-line sk-shimmer sk-rect" style="width: 80%; margin-bottom: 30px;"></div>
        <div class="sk-input sk-shimmer sk-rect"></div>
        <div class="sk-btn sk-shimmer sk-rect"></div>
    </div>
</div>
{% endblock %}

{% block content %}
<section class="section" style="max-width: 400px; margin: 60px auto; text-align: center;">
    <h1 style="font-family: var(--font-heading); margin-bottom: 8px;">Verify Mobile</h1>
    <p id="otpMessage" style="color: var(--text-secondary); margin-bottom: 32px;">Enter the code sent to your mobile.</p>
    
    <div style="background: white; padding: 32px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); text-align: left;">
        <form id="otpForm">
            <div class="form-group">
                <label class="form-label">Enter OTP</label>
                <input type="text" id="otpInput" class="form-input" placeholder="123456" required maxlength="6" style="text-align: center; letter-spacing: 4px; font-size: 20px;">
            </div>
            
            <div id="otpError" style="color: red; margin-bottom: 16px; font-size: 14px; display: none;"></div>
            
            <button type="submit" class="btn btn-primary" style="width: 100%; padding: 14px;">Verify & Login</button>
            
            <div style="margin-top: 16px; text-align: center;">
                <button type="button" class="btn-secondary" style="border: none; font-size: 13px; text-decoration: underline;" onclick="history.back()">Change Number</button>
            </div>
        </form>
    </div>
</section>
<!-- Logic to populate mobile usually handled via query param or JS session storage -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const urlParams = new URLSearchParams(window.location.search);
        const mobile = urlParams.get('mobile');
        if(mobile) {
            document.getElementById('otpMessage').textContent = `Enter the code sent to +91 ${mobile}.`;
        }
    });
</script>
{% endblock %}
